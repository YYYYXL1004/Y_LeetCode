# 哈希表与字符串

## 两数之和
- 返回下标用哈希表，返回值可排序 + 双指针
  ```cpp
  // 哈希表一次遍历（推荐）
  unordered_map<int,int> mp; // 值->下标
  for(int i = 0; i < nums.size(); i++) {
      int need = target - nums[i];
      if(mp.count(need)) return {mp[need], i};
      mp[nums[i]] = i;
  }
  ```
- 两次遍历版本注意：`mp[need] != i`，不能用自己配对自己

## 字母异位词
- 判断：排序后比较，或统计字符频率
  ```cpp
  // 字符频率编码
  vector<int> encode(string s) {
      vector<int> count(26, 0);
      for(char c : s) count[c - 'a']++;
      return count;
  }
  ```
- 分组：用排序后的字符串或字符频率编码作为哈希表的 key
  ```cpp
  unordered_map<string, vector<string>> codeToGroup;
  for(auto& s : strs) {
      string key = s;
      sort(key.begin(), key.end());
      codeToGroup[key].push_back(s);
  }
  ```

## k-diff 数对
- 哈希表计数，k=0 时找出现次数 >1 的数，k>0 时找 i±k 是否存在
  ```cpp
  unordered_map<int, int> mp;
  for(int i : nums) mp[i]++;
  for(int i : nums) {
      if(mp[i] == 0) continue;
      if(k == 0) { if(mp[i] > 1) ans++; }
      else { if(mp[i+k] > 0) ans++; if(mp[i-k] > 0) ans++; }
      mp[i] = 0; // 避免重复计数
  }
  ```

## 字符判断函数（`<cctype>`）
- `isalnum(c)`：字母或数字
- `isalpha(c)`：字母
- `isdigit(c)`：数字
- `tolower(c)`：转小写
- 验证回文串：先过滤非字母数字字符并转小写，再双指针比较

## 最长公共前缀
- 按列遍历：逐列比较所有字符串的对应字符
- 优化：先找最短字符串，避免越界

## 反转字符串中的单词
- 先整体反转，再逐词反转
- 原地去除多余空格：快慢指针

## 最长回文子串
- 中心扩展法

## 题目选择经验
- 求满足条件的子数组 → 前缀和、滑动窗口，经常结合哈希表
- 区间操作元素 → 前缀和、差分数组、线段树
- 数组有序 → 双指针，更大概率用到二分搜索

## 类型转换注意
- `size_t` 是无符号类型，与有符号类型比较时需要转换
- `(int)str.size()` 或 `static_cast<int>(str.size())`
- 避免无符号整数下溢：`size_t a = 0; a - 1` 会变成很大的数

## 相关题目
| 题号 | 题目 | 难度 |
|------|------|------|
| 1 | 两数之和 | 简单 |
| 5 | 最长回文子串 | 中等 |
| 14 | 最长公共前缀 | 简单 |
| 49 | 字母异位词分组 | 中等 |
| 125 | 验证回文串 | 简单 |
| 151 | 反转字符串中的单词 | 中等 |
| 242 | 有效的字母异位词 | 简单 |
| 387 | 字符串中的第一个唯一字符 | 简单 |
| 532 | 数组中的 k-diff 数对 | 中等 |
